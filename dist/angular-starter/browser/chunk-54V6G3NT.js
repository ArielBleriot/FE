import{a as ie,b as ne}from"./chunk-MKN64ELW.js";import{a as ee,b as te}from"./chunk-J27OOH4N.js";import"./chunk-YXCP7MUB.js";import"./chunk-2TJBZR6I.js";import{a as oe}from"./chunk-OCOTQVEQ.js";import{a as Z,b as $}from"./chunk-QCAQKIZB.js";import"./chunk-APTRKIZ7.js";import"./chunk-GOYZCBPB.js";import"./chunk-P5ZCWKPX.js";import"./chunk-FKJABQOL.js";import"./chunk-ZDERZVJV.js";import{a as X}from"./chunk-IWLRDPED.js";import{d as K,e as Q}from"./chunk-NXCYDKJL.js";import{f as U,g as H,h as R,i as q,j as Y,r as J}from"./chunk-4MQ6PB4H.js";import"./chunk-7UYMJC3P.js";import"./chunk-XKGURZDU.js";import{e as w}from"./chunk-343MNPB3.js";import"./chunk-XSSXK7EZ.js";import"./chunk-NHJEPEPJ.js";import{$b as B,Db as D,Eb as N,Fb as W,O as I,Qa as y,R as E,S as k,Sa as c,T as u,U as f,Xa as e,Ya as t,Za as p,bb as F,bc as z,cb as C,cc as P,db as x,fc as V,gc as G,lb as O,mb as d,nb as g,ob as M,qb as b,rb as S,sa as A,sb as _,tb as T,ub as L,wa as a,xa as h,xb as j}from"./chunk-QU7ZFIGS.js";import"./chunk-35PI25VP.js";function re(n,l){if(n&1&&(e(0,"li"),d(1),t()),n&2){let o=l.$implicit;a(),M(" ",o," | ")}}var ae=(n,l)=>({"text-bg-danger":n,"text-bg-info":l});function le(n,l){if(n&1){let o=F();e(0,"div",44)(1,"div",7)(2,"div",45)(3,"div",46),p(4,"img",47),e(5,"div",48)(6,"div",49),d(7),t()()()(),e(8,"div",50)(9,"div",51)(10,"div",52)(11,"h5",53)(12,"a",54),d(13),t()(),e(14,"div",55),p(15,"i",56),e(16,"div",57),d(17),D(18,"date"),t()(),e(19,"div",55),p(20,"i",58),e(21,"div",57),d(22),t()(),e(23,"div",59)(24,"p",54),d(25),t()(),e(26,"ul",60),y(27,re,2,1,"li",61),t()(),e(28,"div",62)(29,"div")(30,"button",63),C("click",function(){let r=E(o).$implicit,v=x(2);return k(v.registerForActivity(r.id))}),p(31,"i",64),d(32," Register "),t()()()()()()()}if(n&2){let o=l.$implicit,s=x(2);a(4),c("src",o.imageUrl,A),a(2),c("ngClass",j(12,ae,o.status==="Sold Out",o.status==="Available")),a(),M(" ",o.status," "),a(6),g(o.name),a(4),g(N(18,9,o.date,"short")),a(5),g(o.location),a(3),g(o.description),a(2),c("ngForOf",o.interests),a(3),c("disabled",s.isSubmitting||o.status==="Sold Out")}}function se(n,l){if(n&1&&(e(0,"div",41)(1,"h6",42),d(2,"Upcoming Activities"),t(),y(3,le,33,15,"div",43),t()),n&2){let o=x();a(3),c("ngForOf",o.activities)}}function de(n,l){n&1&&(e(0,"p"),d(1,"No activities available at the moment."),t())}var Ee=(()=>{let l=class l{constructor(s,i,r){this.activityService=s,this.toastService=i,this.loaderService=r,this.activities=[],this.location="",this.startDate=null,this.endDate=null,this.basedOnInterest=!1,this.filteredCountries=[{name:"United States"}]}ngOnInit(){this.getActivities()}registerForActivity(s){this.loaderService.showLoader(),this.activityService.registerForActivity({activityId:s,studentId:localStorage.getItem("studentId")}).subscribe(i=>{i.successfull?(this.toastService.add({severity:"success",summary:"",detail:i.message}),this.loaderService.hideLoader()):(this.toastService.add({severity:"error",summary:"Error",detail:i.message}),this.loaderService.hideLoader())},i=>{this.toastService.add({severity:"error",summary:"Something went wrong",detail:i.error.message}),this.loaderService.hideLoader()})}filterProjects(){console.log(this.location,this.startDate,this.basedOnInterest);let s={location:this.location,startDate:this.startDate,basedOnInterest:this.basedOnInterest};this.activityService.getFilteredActivities(s).subscribe(i=>{this.activities=i})}getActivities(){this.activityService.getAllActivities().subscribe(s=>{this.activities=s})}getInterests(s){return s.split(",").map(i=>i.trim())}};l.\u0275fac=function(i){return new(i||l)(h(X),h(w),h(oe))},l.\u0275cmp=I({type:l,selectors:[["app-activities"]],standalone:!0,features:[T([w]),L],decls:53,vars:8,consts:[[1,"activity-timeline"],[1,"container"],[1,"activity-cover","rounded-4","p-3","p-sm-5","position-relative"],[1,"row","my-2","my-xl-5","z-1","position-relative"],[1,"col-md-8","mx-auto"],[1,"text-center","text-white","fs-lg-50","fs-32","fw-bold","max-w-70","m-auto","mb-xl-0","mb-3"],[1,"bg-white","shadow","rounded-4","position-relative","p-4","pe-md-5","pb-5","pb-md-4","mb-4","z-1"],[1,"row"],[1,"col-lg-4","mb-px-40","mt-3","mb-lg-2"],[1,"d-flex","align-items-center","gap-1"],[1,"w-px-50","d-flex","justify-content-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1","stroke-linecap","round","stroke-linejoin","round",1,"icon","h-px-50","color-gray-800"],["d","M12 21s6-5.686 6-10a6 6 0 0 0-12 0c0 4.314 6 10 6 10z"],["cx","12","cy","11","r","2"],[1,"flex-1","position-relative"],[1,"fs-16","color-gray-700","bg-white","color-gray-700","fs-16","p-1","position-absolute","px-2","start-px-12","z-2","top-n18"],["name","location","optionLabel","name","styleClass","w-100","inputStyleClass","h-px-54 w-100 rounded-3",1,"w-100",3,"ngModel","suggestions","ngModelChange"],[1,"col-lg-4","mb-px-30","mt-3","mb-lg-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1","stroke-linecap","round","stroke-linejoin","round",1,"icon","h-px-40","color-gray-800"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["name","startDate","styleClass","w-100","inputStyleClass","h-px-54 rounded-3",1,"w-100",3,"ngModel","readonlyInput","ngModelChange"],[1,"col-lg-4","d-flex","align-items-center","mt-3","mb-lg-2"],[1,"d-flex","align-items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1","stroke-linecap","round","stroke-linejoin","round",1,"icon","h-px-36","color-gray-800"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"],["d","M12 3v1.5"],["d","M12 21v-1.5"],["d","M3 12h1.5"],["d","M21 12h-1.5"],[1,"d-flex","gap-2","align-items-center"],["name","basedOnInterest","value","","inputId","ny",3,"binary","ngModel","ngModelChange"],["for","ny",1,"fs-16","color-gray-700"],[1,"btn-position-md-middle"],["type","button",1,"btn","btn-primary","rounded-circle","w-px-56","h-px-56","d-flex","align-items-center","justify-content-center","p-0",3,"click"],[1,"fa","fa-search","fs-18"],[1,"events","py-5"],["class","mb-5",4,"ngIf","ngIfElse"],["noActivities",""],[1,"mb-5"],[1,"fw-bold","text-dark","fs-26","mb-3"],["class","card shadow-1 p-2 border-0 rounded-px-16 mb-3",4,"ngFor","ngForOf"],[1,"card","shadow-1","p-2","border-0","rounded-px-16","mb-3"],[1,"col-md-4"],[1,"position-relative"],["alt","Card image",1,"card-img","rounded-3","h-px-240","object-fit-cover",3,"src"],[1,"position-absolute","top-0","start-0","z-1","m-2"],[1,"badge",3,"ngClass"],[1,"col-md-8"],[1,"card-body","py-md-2","h-100","px-0","d-flex","flex-column","justify-content-between"],[1,"mb-4"],[1,"card-title","mb-1","fs-20","fw-semibold"],["href",""],[1,"d-flex","align-items-center","gap-2","mt-1"],[1,"fa","fa-clock","color-gray-600","fs-14"],[1,"fs-14","color-gray-600"],[1,"fa","fa-location-dot","color-gray-600","w-px-14"],[1,"card-title","mb-1","fs-14"],[1,"nav","nav-divider","mt-3"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","me-3"],["type","button",1,"btn","btn-sm","btn-primary","mb-0","w-100","rounded-3","px-3",3,"disabled","click"],[1,"fa","me-2","fa-edit"]],template:function(i,r){if(i&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d(6,"Explore Activities That Inspire You"),t()()(),e(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),u(),e(12,"svg",11),p(13,"path",12)(14,"circle",13),t()(),f(),e(15,"div",14)(16,"label",15),d(17,"Location"),t(),e(18,"p-autoComplete",16),_("ngModelChange",function(m){return S(r.location,m)||(r.location=m),m}),t()()()(),e(19,"div",17)(20,"div",9)(21,"div",10),u(),e(22,"svg",18),p(23,"rect",19)(24,"line",20)(25,"line",21)(26,"line",22),t()(),f(),e(27,"div",14)(28,"label",15),d(29,"Date"),t(),e(30,"p-calendar",23),_("ngModelChange",function(m){return S(r.startDate,m)||(r.startDate=m),m}),t()()()(),e(31,"div",24)(32,"div",25)(33,"div",10),u(),e(34,"svg",26),p(35,"path",27)(36,"path",28)(37,"path",29)(38,"path",30)(39,"path",31),t()(),f(),e(40,"div",32)(41,"p-checkbox",33),_("ngModelChange",function(m){return S(r.basedOnInterest,m)||(r.basedOnInterest=m),m}),t(),e(42,"label",34),d(43,"Based on my interest"),t()()()()(),e(44,"div",35)(45,"button",36),C("click",function(){return r.filterProjects()}),p(46,"i",37),t()()()()()(),e(47,"section",38)(48,"div",1),y(49,se,4,1,"div",39)(50,de,2,0,"ng-template",null,40,W),t()(),p(52,"p-toast")),i&2){let v=O(51);a(18),b("ngModel",r.location),c("suggestions",r.filteredCountries),a(12),b("ngModel",r.startDate),c("readonlyInput",!0),a(11),c("binary",!0),b("ngModel",r.basedOnInterest),a(8),c("ngIf",r.activities.length>0)("ngIfElse",v)}},dependencies:[G,B,z,P,V,J,Y,U,H,q,R,$,Z,te,ee,ne,ie,Q,K],encapsulation:2});let n=l;return n})();export{Ee as ActivitiesComponent};
