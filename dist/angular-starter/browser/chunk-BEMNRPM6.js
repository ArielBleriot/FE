import{a as z}from"./chunk-IWLRDPED.js";import{c as k,f as F,g as O,h as B,i as L,j,r as D}from"./chunk-4MQ6PB4H.js";import{e as _}from"./chunk-343MNPB3.js";import"./chunk-NHJEPEPJ.js";import{$a as I,O as M,Qa as P,R as v,S as h,Sa as m,Xa as e,Ya as i,Za as p,_a as x,bb as E,cb as S,cc as T,db as w,gc as V,mb as l,qb as f,rb as u,sb as c,tb as W,ub as N,wa as s,xa as C}from"./chunk-QU7ZFIGS.js";import{a as y}from"./chunk-35PI25VP.js";function A(d,a){if(d&1){let b=E();e(0,"button",24),S("click",function(){v(b);let o=w();return h(o.toggleEdit())}),l(1,"Edit Profile"),i()}}function G(d,a){if(d&1){let b=E();x(0),e(1,"button",25),l(2,"Save Changes"),i(),e(3,"button",26),S("click",function(){v(b);let o=w();return h(o.cancelEdit())}),l(4,"Cancel"),i(),I()}}var X=(()=>{let a=class a{constructor(r,o){this.apiService=r,this.messageService=o,this.profile={},this.isEditing=!1}ngOnInit(){this.loadProfile()}loadProfile(){this.apiService.getProfile().subscribe(r=>{this.profile=r,this.originalProfile=y({},r)})}toggleEdit(){this.isEditing=!0}cancelEdit(){this.profile=y({},this.originalProfile),this.isEditing=!1}updateProfile(){this.apiService.updateProfile(this.profile).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Success",detail:"Profile updated successfully"}),this.isEditing=!1,this.originalProfile=y({},this.profile)},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update profile"})}})}};a.\u0275fac=function(o){return new(o||a)(C(z),C(_))},a.\u0275cmp=M({type:a,selectors:[["app-student-profile"]],standalone:!0,features:[W([_]),N],decls:44,vars:9,consts:[[1,"profile","py-5"],[1,"container"],[1,"profile-cover","rounded-4","p-3","p-sm-5","position-relative"],[1,"row","my-2","my-xl-5","z-1","position-relative"],[1,"col-md-8","mx-auto"],[1,"text-center","text-white","fs-lg-50","fs-32","fw-bold","max-w-70","m-auto","mb-xl-0","mb-3"],[1,"bg-white","shadow","rounded-4","position-relative","p-4","pe-md-5","pb-5","pb-md-4","mb-4","z-1",3,"ngSubmit"],[1,"row"],[1,"col-lg-6","mb-3"],[1,"d-flex","align-items-center","gap-1"],[1,"w-px-50","d-flex","justify-content-center"],[1,"fa","fa-user","color-gray-800","fs-25"],[1,"flex-1","position-relative"],[1,"fs-16","color-gray-700"],["type","text","name","name",1,"form-control","rounded-3",3,"ngModel","disabled","ngModelChange"],[1,"fa","fa-user-circle","color-gray-800","fs-25"],["type","text","name","username","disabled","",1,"form-control","rounded-3",3,"ngModel","ngModelChange"],[1,"fa","fa-heart","color-gray-800","fs-25"],["type","text","name","personalInterests",1,"form-control","rounded-3",3,"ngModel","disabled","ngModelChange"],[1,"fa","fa-graduation-cap","color-gray-800","fs-25"],["type","text","name","fieldOfStudy",1,"form-control","rounded-3",3,"ngModel","disabled","ngModelChange"],[1,"col-12","text-center","mt-4"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","submit",1,"btn","btn-success","px-4","me-2"],["type","button",1,"btn","btn-secondary","px-4",3,"click"]],template:function(o,t){o&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l(6,"Your Profile"),i()()(),e(7,"form",6),S("ngSubmit",function(){return t.updateProfile()}),e(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),p(12,"i",11),i(),e(13,"div",12)(14,"label",13),l(15,"Name"),i(),e(16,"input",14),c("ngModelChange",function(n){return u(t.profile.fullName,n)||(t.profile.fullName=n),n}),i()()()(),e(17,"div",8)(18,"div",9)(19,"div",10),p(20,"i",15),i(),e(21,"div",12)(22,"label",13),l(23,"Username"),i(),e(24,"input",16),c("ngModelChange",function(n){return u(t.profile.email,n)||(t.profile.email=n),n}),i()()()(),e(25,"div",8)(26,"div",9)(27,"div",10),p(28,"i",17),i(),e(29,"div",12)(30,"label",13),l(31,"Personal Interests"),i(),e(32,"input",18),c("ngModelChange",function(n){return u(t.profile.personalInterests,n)||(t.profile.personalInterests=n),n}),i()()()(),e(33,"div",8)(34,"div",9)(35,"div",10),p(36,"i",19),i(),e(37,"div",12)(38,"label",13),l(39,"Field of Study"),i(),e(40,"input",20),c("ngModelChange",function(n){return u(t.profile.fieldOfStudy,n)||(t.profile.fieldOfStudy=n),n}),i()()()()(),e(41,"div",21),P(42,A,2,0,"button",22)(43,G,5,0,"ng-container",23),i()()()()()),o&2&&(s(16),f("ngModel",t.profile.fullName),m("disabled",!t.isEditing),s(8),f("ngModel",t.profile.email),s(8),f("ngModel",t.profile.personalInterests),m("disabled",!t.isEditing),s(8),f("ngModel",t.profile.fieldOfStudy),m("disabled",!t.isEditing),s(2),m("ngIf",!t.isEditing),s(),m("ngIf",t.isEditing))},dependencies:[V,T,D,j,k,F,O,L,B],encapsulation:2});let d=a;return d})();export{X as StudentProfileComponent};
